<nav class="admin-nav shadow-sm">
  <div class="d-flex align-items-center justify-content-between container-fluid">
    <h3 class="fw-bold text-primary m-0">Panel de Administraci贸n</h3>

    <div class="admin-profile d-flex align-items-center gap-2">
      <img src="/icons/logolargo.png" class="profile-img" alt="Admin" />
      <button class="logout-btn" (click)="logout()">
        <i class="bi bi-box-arrow-right"></i>
        Salir
      </button>
    </div>
  </div>
</nav>

<div class="container mt-4">

  <!--  Navegaci贸n por pesta帽as -->
  <ul class="nav nav-tabs mb-4">
    <li class="nav-item">
      <a class="nav-link" [class.active]="tabActiva === 'dashboard'"
         (click)="tabActiva = 'dashboard'">
        <i class="bi bi-speedometer2"></i> Dashboard General
      </a>
    </li>

    <li class="nav-item">
      <a class="nav-link" [class.active]="tabActiva === 'estadisticas'"
         (click)="tabActiva = 'estadisticas'">
        <i class="bi bi-bar-chart"></i> Estad铆sticas
      </a>
    </li>

    <li class="nav-item">
      <a class="nav-link" [class.active]="tabActiva === 'usuarios'"
         (click)="tabActiva = 'usuarios'">
        <i class="bi bi-people"></i> Gesti贸n Usuarios
      </a>
    </li>
  </ul>

  <!--  TAB: MTRICAS -->
  <div *ngIf="tabActiva === 'dashboard'">
    <div class="stats-grid">
      <div *ngFor="let card of metricCards"
           class="stat-card shadow"
           [ngStyle]="{ background: card.gradient }">
        <div class="icon-box"><i [class]="card.icon"></i></div>
        <div>
          <h3>{{ card.value }}</h3>
          <p>{{ card.label }}</p>
        </div>
      </div>
    </div>
  </div>

  <!--  TAB: GRFICOS -->
  <div *ngIf="tabActiva === 'estadisticas'">
    <app-admin-charts></app-admin-charts>
  </div>

  <!--  TAB: USUARIOS -->
  <div *ngIf="tabActiva === 'usuarios'">
    <!-- (REUTILIZAMOS TU TABLA EXISTENTE) -->
    <div class="card shadow p-3">
      <h5 class="fw-bold mb-3">Usuarios del Sistema</h5>

      <table class="table table-hover align-middle text-center">
        <thead class="table-primary">
          <tr>
            <th>ID</th>
            <th>Nombre</th>
            <th>Rol</th>
            <th>Estado</th>
            <th>Acci贸n</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let u of usuarios">
            <td>{{ u.id }}</td>
            <td>{{ u.nombre }}</td>
            <td>{{ u.rol }}</td>
            <td>
              <span class="badge status-pill"
                [ngClass]="u.activo ? 'active-status' : 'blocked-status'">
                {{ u.activo ? 'Activo' : 'Bloqueado' }}
              </span>
            </td>
            <td>
              <button class="btn btn-sm"
                [ngClass]="u.activo ? 'btn-danger' : 'btn-success'"
                (click)="toggleEstado(u)">
                {{ u.activo ? 'Bloquear' : 'Activar' }}
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

</div>
